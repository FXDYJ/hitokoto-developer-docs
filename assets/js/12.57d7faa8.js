(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{377:function(t,v,_){"use strict";_.r(v);var d=_(27),r=Object(d.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"语句接口"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#语句接口"}},[t._v("#")]),t._v(" 语句接口")]),t._v(" "),_("h2",{attrs:{id:"简介"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),_("blockquote",[_("p",[t._v("动漫也好、小说也好、网络也好，不论在哪里，我们总会看到有那么一两个句子能穿透你的心。我们把这些句子汇聚起来，形成一言网络，以传递更多的感动。如果可以，我们希望我们没有停止服务的那一天。")]),t._v(" "),_("p",[t._v("简单来说，一言指的就是一句话，可以是动漫中的台词，也可以是网络上的各种小段子。 或是感动，或是开心，有或是单纯的回忆。来到这里，留下你所喜欢的那一句句话，与大家分享，这就是一言存在的目的。")])]),t._v(" "),_("p",[t._v("该接口也是我们（萌创团队）自 2016 年以来稳定提供的接口。目前接口经历了这些变化：")]),t._v(" "),_("ul",[_("li",[t._v("2016 初版接口，实验性提供。占用域名："),_("code",[t._v("api.hitokoto.cn")]),t._v(" 和 "),_("code",[t._v("sslapi.hitokoto.cn")])]),t._v(" "),_("li",[t._v("2018 v1 接口，开始稳定提供。占用域名： "),_("code",[t._v("v1.hitokoto.cn")]),t._v(" "),_("ul",[_("li",[t._v("2018.02 测试状态统计")]),t._v(" "),_("li",[t._v("2018.03 测试网易云")]),t._v(" "),_("li",[t._v("2018.04 开始分布式部署")]),t._v(" "),_("li",[t._v("2019.10 "),_("a",{attrs:{href:"https://www.dogecloud.com/?from=hitokoto.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("DogeCloud"),_("OutboundLink")],1),t._v(" 开始提供赞助，成为我们的顶级赞助商。")]),t._v(" "),_("li",[t._v("2020.01 恢复使用部分弃用字段，句子启用追踪 UUID，为主站重构做基础")]),t._v(" "),_("li",[t._v("2020.06 发布 "),_("code",[t._v("1.5.0")]),t._v("，加入句子区间功能，重构大部分基础模块，优化性能，修复问题")])])])]),t._v(" "),_("h2",{attrs:{id:"时间规划"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#时间规划"}},[t._v("#")]),t._v(" 时间规划")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("时间")]),t._v(" "),_("th",[t._v("版本")]),t._v(" "),_("th",[t._v("影响接口")]),t._v(" "),_("th",[t._v("调整")]),t._v(" "),_("th",[t._v("技术栈")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("2018 年 6 月")]),t._v(" "),_("td",[t._v("测试")]),t._v(" "),_("td",[_("code",[t._v("api.hitokoto.cn")]),t._v(" 和 "),_("code",[t._v("sslapi.hitokoto.cn")])]),t._v(" "),_("td",[t._v("接口重定向至 v1 接口。老接口将不做可用性保证。")]),t._v(" "),_("td",[t._v("PHP")])]),t._v(" "),_("tr",[_("td",[t._v("2018 年7 月")]),t._v(" "),_("td",[t._v("v1")]),t._v(" "),_("td",[_("code",[t._v("v1.hitokoto.cn")])]),t._v(" "),_("td",[t._v("v1 接口锁定功能结构，若无重要原因将不会增减功能。接口将稳定存在直至 v2 上线后一年。")]),t._v(" "),_("td",[t._v("Node.js 和 Docker")])]),t._v(" "),_("tr",[_("td",[t._v("预计 2021 年")]),t._v(" "),_("td",[t._v("v2")]),t._v(" "),_("td",[t._v("未知")]),t._v(" "),_("td",[t._v("上线 v2 接口")]),t._v(" "),_("td",[t._v("Node.js，Go 或者 Swoole")])])])]),t._v(" "),_("p",[t._v("目前 v1 接口已进入功能锁定阶段。 如果你有什么想法或建议， 可以在 "),_("a",{attrs:{href:"https://github.com/freejishu/hitokoto_tell/issues/2",target:"_blank",rel:"noopener noreferrer"}},[t._v("功能申请表"),_("OutboundLink")],1),t._v(" 中提出。")]),t._v(" "),_("p",[t._v("由于一言目前属于公益性运营，为了保证资源的公平利用和不过度消耗公益资金，我们会定期的屏蔽某些大流量的站点。若您的站点的流量较大，您需要提前联系我们获得授权后再开始使用。对于超过阈值的站点，我们有可能会通过一定途径（例如邮件）等方式联系您，若 24 小时无回应则域名将暂时进入黑名单。")]),t._v(" "),_("p",[t._v("考虑到大家的实际应用需求，我们在 "),_("strong",[_("a",{attrs:{href:"https://afdian.net/@hitokoto",target:"_blank",rel:"noopener noreferrer"}},[t._v("爱发电"),_("OutboundLink")],1)]),t._v(" 上架了一个可以提高请求限制的赞助选项，有需要可以前往了解。")]),t._v(" "),_("h2",{attrs:{id:"接口说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#接口说明"}},[t._v("#")]),t._v(" 接口说明")]),t._v(" "),_("blockquote",[_("p",[_("strong",[t._v("请注意：")]),t._v("\n我们于 2020 年 6 月 15 日发布了语句接口的 "),_("code",[t._v("1.5.0")]),t._v(" 版本，此版本允许你查找范围区间，允许你部署自己的接口服务（与我们提供的一致）。\n详细的更新信息请参考："),_("a",{attrs:{href:"https://github.com/hitokoto-osc/hitokoto-api/releases",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/hitokoto-osc/hitokoto-api/releases"),_("OutboundLink")],1)]),t._v(" "),_("p",[t._v("为了一言的长久发展，我们恳求您在使用一言服务得同时 "),_("strong",[t._v("尽可能")]),t._v(" 得加入一言的链接（如：添加友情链接，为一言文本附加超链接）。")])]),t._v(" "),_("h3",{attrs:{id:"请求地址"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求地址"}},[t._v("#")]),t._v(" 请求地址")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("地址")]),t._v(" "),_("th",[t._v("协议")]),t._v(" "),_("th",[t._v("方法")]),t._v(" "),_("th",[t._v("QPS 限制")]),t._v(" "),_("th",[t._v("线路")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[_("code",[t._v("v1.hitokoto.cn")])]),t._v(" "),_("td",[t._v("HTTPS")]),t._v(" "),_("td",[t._v("Any")]),t._v(" "),_("td",[t._v("3.5")]),t._v(" "),_("td",[t._v("全球")])]),t._v(" "),_("tr",[_("td",[_("code",[t._v("international.v1.hitokoto.cn")])]),t._v(" "),_("td",[t._v("HTTPS")]),t._v(" "),_("td",[t._v("Any")]),t._v(" "),_("td",[t._v("10")]),t._v(" "),_("td",[t._v("国外")])])])]),t._v(" "),_("blockquote",[_("p",[t._v("请注意：一言域名已加入 HSTS 预加载计划，所有请求一律以 HTTPS 方法进行。")])]),t._v(" "),_("h3",{attrs:{id:"请求参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#请求参数"}},[t._v("#")]),t._v(" 请求参数")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("值")]),t._v(" "),_("th",[t._v("可选")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("c")]),t._v(" "),_("td",[t._v("见后表")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("句子类型")])]),t._v(" "),_("tr",[_("td",[t._v("encode")]),t._v(" "),_("td",[t._v("见后表")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("返回编码")])]),t._v(" "),_("tr",[_("td",[t._v("charset")]),t._v(" "),_("td",[t._v("见后表")]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("字符集")])]),t._v(" "),_("tr",[_("td",[t._v("callback")]),t._v(" "),_("td",[t._v("如："),_("code",[t._v("moe")])]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("调用的异步函数")])]),t._v(" "),_("tr",[_("td",[t._v("select")]),t._v(" "),_("td",[t._v("默认："),_("code",[t._v(".hitokoto")])]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("选择器。配合 "),_("code",[t._v("encode=js")]),t._v(" 使用")])]),t._v(" "),_("tr",[_("td",[t._v("min_length")]),t._v(" "),_("td",[t._v("默认："),_("code",[t._v("0")])]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("返回句子的最小长度（包含）")])]),t._v(" "),_("tr",[_("td",[t._v("max_length")]),t._v(" "),_("td",[t._v("默认："),_("code",[t._v("30")])]),t._v(" "),_("td",[t._v("是")]),t._v(" "),_("td",[t._v("返回句子的最大长度（包含）")])])])]),t._v(" "),_("h4",{attrs:{id:"句子类型-参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#句子类型-参数"}},[t._v("#")]),t._v(" 句子类型（参数）")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("a")]),t._v(" "),_("td",[t._v("动画")])]),t._v(" "),_("tr",[_("td",[t._v("b")]),t._v(" "),_("td",[t._v("漫画")])]),t._v(" "),_("tr",[_("td",[t._v("c")]),t._v(" "),_("td",[t._v("游戏")])]),t._v(" "),_("tr",[_("td",[t._v("d")]),t._v(" "),_("td",[t._v("文学")])]),t._v(" "),_("tr",[_("td",[t._v("e")]),t._v(" "),_("td",[t._v("原创")])]),t._v(" "),_("tr",[_("td",[t._v("f")]),t._v(" "),_("td",[t._v("来自网络")])]),t._v(" "),_("tr",[_("td",[t._v("g")]),t._v(" "),_("td",[t._v("其他")])]),t._v(" "),_("tr",[_("td",[t._v("h")]),t._v(" "),_("td",[t._v("影视")])]),t._v(" "),_("tr",[_("td",[t._v("i")]),t._v(" "),_("td",[t._v("诗词")])]),t._v(" "),_("tr",[_("td",[t._v("j")]),t._v(" "),_("td",[t._v("网易云")])]),t._v(" "),_("tr",[_("td",[t._v("k")]),t._v(" "),_("td",[t._v("哲学")])]),t._v(" "),_("tr",[_("td",[t._v("l")]),t._v(" "),_("td",[t._v("抖机灵")])]),t._v(" "),_("tr",[_("td",[t._v("其他")]),t._v(" "),_("td",[t._v("作为 动画 类型处理")])])])]),t._v(" "),_("blockquote",[_("p",[t._v("可选择多个分类，例如： "),_("code",[t._v("?c=a&c=c")])])]),t._v(" "),_("h4",{attrs:{id:"返回编码-参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#返回编码-参数"}},[t._v("#")]),t._v(" 返回编码（参数）")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("text")]),t._v(" "),_("td",[t._v("返回纯洁文本")])]),t._v(" "),_("tr",[_("td",[t._v("json")]),t._v(" "),_("td",[t._v("返回格式化后的 JSON 文本")])]),t._v(" "),_("tr",[_("td",[t._v("js")]),t._v(" "),_("td",[t._v("返回指定选择器的同步调用函数。默认选择器为："),_("code",[t._v(".hitokoto")])])]),t._v(" "),_("tr",[_("td",[t._v("其他")]),t._v(" "),_("td",[t._v("返回格式化后的 JSON 文本")])])])]),t._v(" "),_("h4",{attrs:{id:"字符集-参数"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#字符集-参数"}},[t._v("#")]),t._v(" 字符集（参数）")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("参数")]),t._v(" "),_("th",[t._v("说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("utf-8")]),t._v(" "),_("td",[t._v("返回 utf-8 编码的内容")])]),t._v(" "),_("tr",[_("td",[t._v("gbk")]),t._v(" "),_("td",[t._v("返回 gbk 编码的内容。不支持与异步函数同用")])]),t._v(" "),_("tr",[_("td",[t._v("其他")]),t._v(" "),_("td",[t._v("返回 utf-8 编码的内容")])])])]),t._v(" "),_("h2",{attrs:{id:"返回格式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#返回格式"}},[t._v("#")]),t._v(" 返回格式")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("返回参数名称")]),t._v(" "),_("th",[t._v("描述")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("id")]),t._v(" "),_("td",[t._v("一言标识")])]),t._v(" "),_("tr",[_("td",[t._v("hitokoto")]),t._v(" "),_("td",[t._v("一言正文。编码方式 unicode。使用 utf-8。")])]),t._v(" "),_("tr",[_("td",[t._v("type")]),t._v(" "),_("td",[t._v("类型。请参考第三节参数的表格")])]),t._v(" "),_("tr",[_("td",[t._v("from")]),t._v(" "),_("td",[t._v("一言的出处")])]),t._v(" "),_("tr",[_("td",[t._v("from_who")]),t._v(" "),_("td",[t._v("一言的作者")])]),t._v(" "),_("tr",[_("td",[t._v("creator")]),t._v(" "),_("td",[t._v("添加者")])]),t._v(" "),_("tr",[_("td",[t._v("creator_uid")]),t._v(" "),_("td",[t._v("添加者用户标识")])]),t._v(" "),_("tr",[_("td",[t._v("reviewer")]),t._v(" "),_("td",[t._v("审核员标识")])]),t._v(" "),_("tr",[_("td",[t._v("uuid")]),t._v(" "),_("td",[t._v("一言唯一标识；可以链接到 "),_("a",{attrs:{href:"https://hitokoto.cn?uuid=%5Buuid%5D",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://hitokoto.cn?uuid=[uuid]"),_("OutboundLink")],1),t._v(" 查看这个一言的完整信息")])]),t._v(" "),_("tr",[_("td",[t._v("commit_from")]),t._v(" "),_("td",[t._v("提交方式")])]),t._v(" "),_("tr",[_("td",[t._v("created_at")]),t._v(" "),_("td",[t._v("添加时间")])]),t._v(" "),_("tr",[_("td",[t._v("length")]),t._v(" "),_("td",[t._v("句子长度")])])])]),t._v(" "),_("h2",{attrs:{id:"扩展"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#扩展"}},[t._v("#")]),t._v(" 扩展")]),t._v(" "),_("ul",[_("li",[t._v("网易云 API， 目前文档尚未制作，可以先参考 "),_("a",{attrs:{href:"https://github.com/a632079/teng-koa/blob/master/netease.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),_("OutboundLink")],1),t._v(" "),_("ul",[_("li",[_("strong",[t._v("由于网易云最近封锁严重，建议自行搭建。")])])])])])])}),[],!1,null,null,null);v.default=r.exports}}]);